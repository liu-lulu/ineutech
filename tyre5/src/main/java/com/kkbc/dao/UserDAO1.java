package com.kkbc.dao;

import org.springframework.jdbc.core.support.JdbcDaoSupport;

public class UserDAO1 extends JdbcDaoSupport { 
//	Logger logger = LoggerFactory.getLogger(UserDAO1.class);
//	public User1 login(String loginName, String pwd) {
//		String sql="select * from user where name=? and password=?";
//		List user=getJdbcTemplate().query(sql,new Object[]{loginName,pwd}, new BeanPropertyRowMapper(User1.class));
//		if (user!=null&&user.size()>0) {
//			logger.info("获取登陆用户成功！");
//			return (User1) user.get(0);
//		}
//		return null;
//		
//	}
//	    //查询所有用户的列表  
//	    public List<User1> getUserList(){  
////	        List userlist=new ArrayList<User>();  
//	        String sql="select * from user";  
////	        userlist=getJdbcTemplate().query(sql, new RowMapper<User>(){  
////	            public User mapRow(ResultSet rs, int index) throws SQLException {         
////	                        User user=new User();  
////	                        user.setId(rs.getInt("id"));  
////	                        user.setName(rs.getString("name"));  
////	                        user.setTel(rs.getString("tel"));  
////	                        return user;  
////	            }     
////	        });  
//	        List  userlist=getJdbcTemplate().query(sql, new BeanPropertyRowMapper(User1.class));
//	        return userlist;  
//	    }  
//	    //通过用户名关键字获取用户列表  
//	    public List<User1> getUserByName(String name){  
//	        List<User1> userlist=new ArrayList<User1>();  
//	        String sql="select * from user where name like ?";  
//	        userlist=getJdbcTemplate().query(sql, new Object[]{"%"+name+"%"},new RowMapper<User1>(){  
//	  
//	            public User1 mapRow(ResultSet rs, int index) throws SQLException {  
//	               User1 user=new User1();  
//	                user.setId(rs.getInt("id"));  
//	                user.setName(rs.getString("name"));  
//	                user.setTel(rs.getString("tel"));  
//	                return user;  
//	            }  
//	              
//	       });  
//	        return userlist;  
//	    }  
//	    
//	    //事务处理
//	    //@Transactional
//	    public int updateInfo()  {
//	    	String sql="update user set name=? where name=?";
//	    	int result=getJdbcTemplate().update(sql, new Object[]{"aaaaaaaaa","lulu"});
//	    	String sql2="update user set tel=? where name=?";
//	    	int result2=getJdbcTemplate().update(sql2, new Object[]{"012345678912","lll"});//电话号码长度超出限制，不能插入
//	    	if (result2==0) {
//	    		logger.error("更新电话号码失败");
//	    		return 1;
//			}
//
//	    	return 0;
//	    }
//
	}  

